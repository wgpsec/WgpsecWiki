(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{859:function(s,t,a){"use strict";a.r(t);var n=a(105),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux基础命令"}},[s._v("Linux基础命令 "),a("a",{staticClass:"header-anchor",attrs:{href:"#linux基础命令"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pwd、cd 、ls -al、touch、mkdir\ncp、mv、rm、find / -name xx* 、du"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("计算目录容量"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncat、more "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("逐页阅读,空格下一页，b返回上一页"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" xx.txt\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看前两行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" ca.*\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看ca开头的文件的后3行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#正则匹配，搜索文本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#用于在shell中打印shell变量的值，或者直接输出指定的字符串")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s 源文件 目标文件\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#(-s软链接、不可删除源文件；硬链接时，源文件只能为文件不能是目录)")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示文件的行、单词、字节统计信息（-l、-w、-c）")]),s._v("\n\nVim工作模式：普通模式、插入模式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("、命令模式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nVim查找替换：普通模式下-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /向下查找 ?向上查找 n跳到下一个匹配处\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h1",{attrs:{id:"账户管理"}},[s._v("账户管理 "),a("a",{staticClass:"header-anchor",attrs:{href:"#账户管理"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#打印用户的UID和GID，root组的GID号是：0，bin组GID号是：1，daemon组GID号是：2，sys组GID号是：3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#后单跟用户名跟改密码")]),s._v("\n-l\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#锁定用户不能跟改密码")]),s._v("\n-d\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#清除用户密码")]),s._v("\n-S\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查询用户密码状态")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加用户，-d指定家目录，-g指定主要组，-G指定次要组，-s指定缺省shell")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加组，-g指定组ID")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改用户信息，-e有效期，-f宽限天数，-l账户名称，-L锁定用户，-u修改用户ID")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("userdel")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除用户，-f强制删除 即使用户已登录，-r同时删除用户相关所有文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupdel")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除工作组")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#账户信息文件：/etc/passwd")]),s._v("\nroot:x:0:0:root:/root:/bin/bash\n用户名：密码：用户ID：组ID：用户说明"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("描述"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("：用户主"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("家"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("目录：缺省shell"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("登陆后的shell"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n注意：无密码只允许本机登陆，远程不允许登陆\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#账户密码文件：/etc/shadow")]),s._v("\nroot:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$Gs1qhL2p3ZetrE4")]),s._v(".kMHx6qgbTcjQSt.Ft7ql1WpkopY/:16809:0:99999:7:::\n用户名：加密密码：密码最后一次修改日期：两次密码的修改时间间隔：\n密码有效期：密码到期的警告天数：密码过期宽限天数：账号失效时间：保留\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#组账户信息文件：/etc/group")]),s._v("\nroot:x:0:\n组名：口令：组标识号：组内用户列表\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("who")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看当前登录用户（tty本地登陆  pts远程登录）")]),s._v("\nw\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看系统信息，想知道某一时刻用户的行为")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uptime")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看登陆多久、多少用户，负载")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h1",{attrs:{id:"文件和目录权限管理"}},[s._v("文件和目录权限管理 "),a("a",{staticClass:"header-anchor",attrs:{href:"#文件和目录权限管理"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("drwx-rwx-rwx "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#d代表目录、读、写、执行（4、2、1） -> user、group、other -> 所有者用户、组、其他用户的权限")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#改变文件和目录权限")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#改变文件和目录所有者和组")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h1",{attrs:{id:"计划任务"}},[s._v("计划任务 "),a("a",{staticClass:"header-anchor",attrs:{href:"#计划任务"}},[s._v("#")])]),s._v(" "),a("p",[s._v("都是以当前用户的权限去执行计划任务的")]),s._v(" "),a("h2",{attrs:{id:"at一次性计划任务"}},[s._v("at一次性计划任务 "),a("a",{staticClass:"header-anchor",attrs:{href:"#at一次性计划任务"}},[s._v("#")])]),s._v(" "),a("p",[s._v("需要开启"),a("code",[s._v("atd")]),s._v("服务(需要root权限)")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /etc/init.d/atd restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("at的运行方式")])]),s._v(" "),a("p",[s._v("事实上我们仅使用at命令来生成所要运行的工作，并将这个工作以文本文件的方式写入/var/spool/at目录内")]),s._v(" "),a("p",[s._v("该工作就可以被"),a("code",[s._v("atd")]),s._v("服务取用并执行，at的实际工作情况是这样的：")]),s._v(" "),a("blockquote",[a("p",[s._v("1：先查找"),a("code",[s._v("/etc/at.allow")]),s._v("文件，写在这个文件中的用户才可以使用at，没有在"),a("code",[s._v("at.allow")]),s._v("文件中的用户就不可以使用，即使"),a("code",[s._v("at.deny")]),s._v("中也没有")]),s._v(" "),a("p",[s._v("2：如果"),a("code",[s._v("at.allow")]),s._v("不存在，就查找"),a("code",[s._v("/etc/at.deny")]),s._v("，写在这个文件中的用户都不能使用at，而其他用户都可以使用at")]),s._v(" "),a("p",[s._v("3：如果两个文件都不存在，那么就只有root用户可以执行at")])]),s._v(" "),a("p",[a("strong",[s._v("选项参数：")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("-l\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#相当于atq，列出系统上该用户的所有at调度")]),s._v("\n-d\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#相当于atrm，取消一个在at中调度的工作")]),s._v("\n-v\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用较明显的时间格式列出at调度中的任务列表")]),s._v("\n-c\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看at计划任务的具体内容，后接job名")]),s._v("\n\n$ at "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":00\nat"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("sh cmd.sh\nat"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("输入ctrl+d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"crontab-周期性计划任务"}},[s._v("crontab 周期性计划任务 "),a("a",{staticClass:"header-anchor",attrs:{href:"#crontab-周期性计划任务"}},[s._v("#")])]),s._v(" "),a("p",[s._v("(user权限不能查看"),a("code",[s._v("www-data")]),s._v("权限的任务)")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("-u\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#只有root用户可以执行这个任务，也即帮其他用户新建、删除任务")]),s._v("\n-e\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#edit user's crontab")]),s._v("\n-l\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#list user's crontab")]),s._v("\n-r\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#delete user's crontab")]),s._v("\n-i\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#prompt before deleting user's crontab")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#================#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#======例子======#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#================#")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" * * * "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" shell.sh\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#上边这条任务代表每天12点执行一次 sh shell.sh")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("前面5个字段分别表示"),a("strong",[s._v("分钟")]),s._v("，"),a("strong",[s._v("小时")]),s._v("，"),a("strong",[s._v("日期")]),s._v("，"),a("strong",[s._v("月份")]),s._v("，"),a("strong",[s._v("周")]),s._v("，后面接的是命令")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("代表意义")]),s._v(" "),a("th",[s._v("分钟")]),s._v(" "),a("th",[s._v("小时")]),s._v(" "),a("th",[s._v("日期")]),s._v(" "),a("th",[s._v("月份")]),s._v(" "),a("th",[s._v("周")]),s._v(" "),a("th",[s._v("命令")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("数字范围")]),s._v(" "),a("td",[s._v("0-59")]),s._v(" "),a("td",[s._v("0-23")]),s._v(" "),a("td",[s._v("0-31")]),s._v(" "),a("td",[s._v("0-12")]),s._v(" "),a("td",[s._v("0-7")]),s._v(" "),a("td",[s._v("要执行的命令")])])])]),s._v(" "),a("p",[s._v("其中周里面的0和7都代表周日，注意周与日月不可并存")]),s._v(" "),a("p",[a("strong",[s._v("特殊字符：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("特殊字符")]),s._v(" "),a("th",[s._v("代表意义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("*（星号）")]),s._v(" "),a("td",[s._v("任意时刻，如0 12 * * * sh "),a("code",[s._v("shell.sh")]),s._v("的*代表每个月的每个周中的每一天")])]),s._v(" "),a("tr",[a("td",[s._v(",（逗号）")]),s._v(" "),a("td",[s._v("代表分割时段，例如0 3,6 * * * command，表示在3点和6点时执行任务，"),a("strong",[s._v("注意不要有空格符")])])]),s._v(" "),a("tr",[a("td",[s._v("-（减号）")]),s._v(" "),a("td",[s._v("代表时间段范围，例如在凌晨1点到6点的30分的时候执行command命令则应该是 30 1-6 * * * command")])]),s._v(" "),a("tr",[a("td",[s._v("/n")]),s._v(" "),a("td",[s._v("表示每隔n个单位间隔执行一次的意思，*/11-23 * * * command表示凌晨1到晚上23点时间段内每隔1分钟执行一次")])])])]),s._v(" "),a("h1",{attrs:{id:"网络监控netstat"}},[s._v("网络监控netstat "),a("a",{staticClass:"header-anchor",attrs:{href:"#网络监控netstat"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#打印网络连接、路由表、网络接口统计信息")]),s._v("\n-a\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示所有socket，包括正在监听的")]),s._v("\n-n \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用数字形式的IP")]),s._v("\n-t \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看tcp连接信息")]),s._v("\n-p \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示进程及对应ID号")]),s._v("\n\n-l \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示正在监听的sockets接口信息")]),s._v("\n-u \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看udp连接信息")]),s._v("\n-s \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示各种协议统计信息")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[a("strong",[s._v("查看当前端口连接")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -antp\nss -l\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ss的优势在于它能够显示更多更详细的有关TCP和连接状态的信息，而且比netstat更快速更高效。")]),s._v(" "),a("h1",{attrs:{id:"windows平台netstat详解"}},[s._v("Windows平台netstat详解 "),a("a",{staticClass:"header-anchor",attrs:{href:"#windows平台netstat详解"}},[s._v("#")])]),s._v(" "),a("blockquote",[a("p",[s._v("netstat 用于显示与IP 、TCP 、UDP 和ICMP 协议相关的统计数据，一般用于检验本机各端口的网络连接情况.")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("-a  显示所有连接和监听端口\n-n  以数字形式显示地址和端口号，显示所有已建立的有效连接\n-o  显示进程 PID\n\n-p  proto ,指定协议TCP、UDP\n-r  打印路由表，通route print\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("状态列表")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("LISTEN\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在监听状态中")]),s._v("\nESTABLISHED\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#已建立联机的联机情况")]),s._v("\nTIME_WAIT\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#该联机在目前已经是等待的状态")]),s._v("\nCLOSE_WAIT\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#被动关闭的一方，收到FIN包后，协议层回复ACK（阻塞住了）")]),s._v("\nFIN_WAIT_2\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#主动关闭的一方等待对方关闭")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("对外发包还是被连接？")]),s._v("\n高端口连接低端口")]),s._v(" "),a("h1",{attrs:{id:"进程监控-ps"}},[s._v("进程监控 PS "),a("a",{staticClass:"header-anchor",attrs:{href:"#进程监控-ps"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#grep表示在这些里搜索，而ps aux是显示所有进程和其状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" amoeba\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查到amoeba的进程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" pid\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#杀死进程")]),s._v("\n\n\na \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示现行终端机下的所有程序，包括其他用户的程序")]),s._v("\nu 　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#以用户为主的格式来显示程序状况。 ")]),s._v("\nx 　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示所有程序，不以终端机来区分")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("strong",[s._v("Linux上进程有5种状态:")])]),s._v(" "),a("blockquote",[a("ol",[a("li",[a("p",[a("strong",[s._v("运行")]),s._v("          (正在运行或在运行队列中等待)")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("中断")]),s._v("          (休眠中, 受阻, 在等待某个条件的形成或接受到信号)")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("不可中断")]),s._v("   (收到信号不唤醒和不可运行, 进程必须等待直到有中断发生)")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("僵死")]),s._v("          (进程已终止, 但进程描述符存在, 直到父进程调用wait4()系统调用后释放)")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("停止")]),s._v("          (进程收到SIGSTOP, SIGSTP, SIGTIN, SIGTOU信号后停止运行运行)")])])])]),s._v(" "),a("p",[a("strong",[a("code",[s._v("ps aux")]),s._v("输出格式：")])]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[s._v("USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("格式说明：")])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("USER")]),s._v(": 行程拥有者")]),s._v(" "),a("p",[a("code",[s._v("PID: pid")])]),s._v(" "),a("p",[a("code",[s._v("%CPU")]),s._v(": 占用的 CPU 使用率")]),s._v(" "),a("p",[a("code",[s._v("%MEM")]),s._v(": 占用的记忆体使用率")]),s._v(" "),a("p",[a("code",[s._v("VSZ")]),s._v(": 占用的虚拟记忆体大小")]),s._v(" "),a("p",[a("code",[s._v("RSS")]),s._v(": 占用的记忆体大小")]),s._v(" "),a("p",[a("code",[s._v("TTY")]),s._v(": 终端的次要装置号码 (minor device number of tty)")]),s._v(" "),a("p",[a("code",[s._v("STAT")]),s._v(": 该行程的状态，"),a("code",[s._v("linux")]),s._v("的进程有5种状态：")]),s._v(" "),a("ul",[a("li",[s._v("D 不可中断 "),a("code",[s._v("uninterruptible")]),s._v(" sleep (usually IO)")]),s._v(" "),a("li",[s._v("R 运行 runnable (on run queue)")]),s._v(" "),a("li",[s._v("S 中断 sleeping")]),s._v(" "),a("li",[s._v("T 停止 traced or stopped")]),s._v(" "),a("li",[s._v("Z 僵死 a defunct (”zombie”) process")])]),s._v(" "),a("p",[s._v("​     注: 其它状态还包括W(无驻留页), <(高优先级进程), N(低优先级进程), L(内存锁页)")]),s._v(" "),a("p",[s._v("START: 行程开始时间")]),s._v(" "),a("p",[s._v("TIME: 执行的时间")]),s._v(" "),a("p",[s._v("COMMAND:所执行的指令")])]),s._v(" "),a("h1",{attrs:{id:"wget和curl命令"}},[s._v("wget和curl命令 "),a("a",{staticClass:"header-anchor",attrs:{href:"#wget和curl命令"}},[s._v("#")])]),s._v(" "),a("p",[a("strong",[s._v("wget")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("wget命令用来从指定URL下载文件，稳定、支持断点续传。\n\n-O  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重命名下载的文件")]),s._v("\n-c  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#断点续传")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("curl")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("curl命令是一个利用URL规则在命令行下工作的文件传输工具\n\n-O  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#把服务器响应输出到指定文件")]),s._v("\n-L  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#自动跳转到重定向链接")]),s._v("\n-i  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出包含响应头的信息")]),s._v("\n-I  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#仅输出响应头")]),s._v("\n-v  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示http通信过程，包括端口连接和http request头信息")]),s._v("\n-X  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定请求方式（GET|POST|PUT）")]),s._v("\n-H  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加请求头（'key:value'）")]),s._v("\n-d  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定POST请求体")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h1",{attrs:{id:"linux后台执行命令"}},[s._v("Linux后台执行命令 "),a("a",{staticClass:"header-anchor",attrs:{href:"#linux后台执行命令"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、ctrl + z     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将一个正在前台执行的命令放到后台，并且处于暂停状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、bg           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将一个在后台暂停的命令，变成在后台继续执行 （配合上边的1在后台运行）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#命令后加个&符号")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("、nohup ./task \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#命令前添加nohup，让程序始终在后台执行，即使关闭当前的终端也执行（用exit退出账户）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ps查看此进程，jobs无法查看")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("、jobs         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看后台运行的命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("、fg           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将后台中的命令调至前台继续运行")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h1",{attrs:{id:"获取-proc目录信息"}},[s._v("获取/proc目录信息 "),a("a",{staticClass:"header-anchor",attrs:{href:"#获取-proc目录信息"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /proc\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#系统信息，硬件信息，内核版本，加载的模块，进程；可以用来提升权限")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中的部分文件分别对应正在运行的进程，可用于访问当前进程的地址空间。")]),s._v(" "),a("p",[s._v("它是一个非常特殊的虚拟文件系统，其中并不包含“实际的”文件，而是可用以引用当前运行系统的系统信息，")]),s._v(" "),a("p",[s._v("如CPU、内存、运行时间、软件配置以及硬件配置的信息，这些信息是在内存中由系统自己产生的。")]),s._v(" "),a("p",[a("code",[s._v("/proc/net")]),s._v("   其中的文件分别表示各种网络协议（如TCP、UDP以及ARP等）的状态与统计信息。\n"),a("code",[s._v("/proc/sys")]),s._v("  这个目录不仅存有各种系统信息，而且也包含系统内核与TCP/IP网络的可调参数。")]),s._v(" "),a("p",[s._v("其中的kernel子目录含有共享内存和消息队列的可调参数，net子目录中含有TCP/IP的各种可调参数。")]),s._v(" "),a("h1",{attrs:{id:"centos系统设置"}},[s._v("Centos系统设置 "),a("a",{staticClass:"header-anchor",attrs:{href:"#centos系统设置"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Centos最小化安装时没有ifconfig等命令")]),s._v("\nyum provides "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v(" \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看那个组件包,包含了 ifconfig 命令")]),s._v("\nyum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" net-tools\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装组件包")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置静态 IP 地址并访问互联网")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/network-scripts/ifcfg-ens33\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BOOTPROTO")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dhcp/static "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#静态 IP")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IPADDR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.11 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#本机地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NETMASK")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#子网掩码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GATEWAY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.255 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认网关")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/resolv.conf\nnameserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("114.114")]),s._v(".114.114\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置DNS")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" network restart \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启网络")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"防火墙-firewall-和-selinux-打开和关闭"}},[s._v("防火墙 FireWall 和 SELinux 打开和关闭 "),a("a",{staticClass:"header-anchor",attrs:{href:"#防火墙-firewall-和-selinux-打开和关闭"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("firewall-cmd --state\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看防火墙状态")]),s._v("\nsystemctl start firewall.service\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开启防火墙")]),s._v("\nsystemctl stop firewall.service\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止防火墙")]),s._v("\nsystemctl disable firewall.service\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#禁止开机启动")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("SELinux是「Security-Enhanced Linux」的简称，是Linux的一个扩张强制访问控制安全模块")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#临时关闭SELinux，1启用")]),s._v("\nsetenforce "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久关闭")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/selinux/config/  --"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SELINUX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("disabled\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SELINUX参数enforcing代表打开，disabled代表关闭")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看selinux状态： getenforce")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"systemctl-命令使用详解"}},[s._v("systemctl 命令使用详解 "),a("a",{staticClass:"header-anchor",attrs:{href:"#systemctl-命令使用详解"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出当前系统服务的状态")]),s._v("\nsystemctl list-units\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出服务的开机状态")]),s._v("\nsystemctl list-units-files\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出指定服务的状态")]),s._v("\nsystemctl status sshd\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启服务")]),s._v("\nsystemctl restart sshd\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设定指定服务开机开启")]),s._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" sshd\n\nsystemctl set-default multi-user.target\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开机不开启图形")]),s._v("\nsystemctl set-default graphical.target\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开机启动图形")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"配置防火墙"}},[s._v("配置防火墙 "),a("a",{staticClass:"header-anchor",attrs:{href:"#配置防火墙"}},[s._v("#")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查询端口是否开放")]),s._v("\nfirewall-cmd --query-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开放80端口")]),s._v("\nfirewall-cmd --permanent --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#移除端口")]),s._v("\nfirewall-cmd --permanent --remove-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启防火墙(修改配置后要重启防火墙)")]),s._v("\nfirewall-cmd --reload\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#参数解释")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、firwall-cmd：是Linux提供的操作firewall的一个工具；\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、--permanent：表示设置为持久；\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、--add-port：标识添加的端口；\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#针对某个 IP开放端口")]),s._v("\nfirewall-cmd --permanent --add-rich-rule"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rule family="')]),s._v("ipv4"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" source address="')]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".189.128"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" port protocol="')]),s._v("tcp"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" port="')]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" accept"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除某个IP")]),s._v("\nfirewall-cmd --permanent --remove-rich-rule"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rule family="')]),s._v("ipv4"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" source address="')]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".189.128"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" accept"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#针对一个ip段允许访问")]),s._v("\nfirewall-cmd --permanent --add-rich-rule"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rule family="')]),s._v("ipv4"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" source address="')]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.0/16"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" accept"')]),s._v("\nfirewall-cmd --permanent --add-rich-rule"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rule family="')]),s._v("ipv4"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" source address="')]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.0/24"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" port protocol="')]),s._v("tcp"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" port="')]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" accept"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启防火墙(修改配置后要重启防火墙)")]),s._v("\nfirewall-cmd --reload\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h3",{attrs:{id:"iptables工作在tcpip模型中的第七层-应用层"}},[s._v("iptables工作在TCPIP模型中的第七层，应用层 "),a("a",{staticClass:"header-anchor",attrs:{href:"#iptables工作在tcpip模型中的第七层-应用层"}},[s._v("#")])]),s._v(" "),a("blockquote",[a("p",[s._v("目前市面上比较常见的有3、4层的防火墙，叫网络层的防火墙，还有7层的防火墙，其实是代理层的网关。")]),s._v(" "),a("p",[s._v("对于TCP/IP的七层模型来讲，我们知道第三层是网络层，三层的防火墙会在这层对源地址和目标地址进行检测。")]),s._v(" "),a("p",[s._v("但是对于七层的防火墙，不管你源端口或者目标端口，源地址或者目标地址是什么，都将对你所有的东西进行检查。")]),s._v(" "),a("p",[s._v("所以，对于设计原理来讲，七层防火墙更加安全，但是这却带来了效率更低。")]),s._v(" "),a("p",[s._v("所以市面上通常的防火墙方案，都是两者结合的。")]),s._v(" "),a("p",[s._v("而又由于我们都需要从防火墙所控制的这个口来访问")]),s._v(" "),a("p",[s._v("所以防火墙的工作效率就成了用户能够访问数据多少的一个最重要的控制")]),s._v(" "),a("p",[s._v("配置的不好甚至有可能成为流量的瓶颈。")])]),s._v(" "),a("p",[s._v("附："),a("a",{attrs:{href:"https://www.linuxcool.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux命令手册"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);